import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_TRIP_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Arlington for 2 Days for 3 people with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 2 days with each day plan with best time to visit in JSON format. Generate for hotels recommendations as well as for trip itinaery planner in array in json format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"hotels\": [\n    {\n      \"hotelName\": \"The Arlington Courtyard Marriott\",\n      \"hotelAddress\": \"2700 Richmond Highway, Arlington, VA 22202\",\n      \"price\": \"$120-$180\",\n      \"hotelImageURL\": \"https://www.marriott.com/content/dam/marriott/marriott-assets/marriott/hotels/us/wasar/wasar-exterior-2.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 38.8644,\n        \"longitude\": -77.0648\n      },\n      \"rating\": 4.0,\n      \"description\": \"A modern hotel with an outdoor pool, fitness center, and complimentary breakfast.\"\n    },\n    {\n      \"hotelName\": \"Hyatt Regency Crystal City\",\n      \"hotelAddress\": \"2799 Jefferson Davis Hwy, Arlington, VA 22202\",\n      \"price\": \"$110-$160\",\n      \"hotelImageURL\": \"https://www.hyatt.com/content/dam/hyatt/hyatt-assets/media/hotels/wascc/wascc-exterior-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 38.8529,\n        \"longitude\": -77.0584\n      },\n      \"rating\": 3.8,\n      \"description\": \"A well-located hotel with a rooftop bar, restaurant, and business center.\"\n    },\n    {\n      \"hotelName\": \"Hilton Arlington\",\n      \"hotelAddress\": \"2800 S 29th St, Arlington, VA 22206\",\n      \"price\": \"$100-$150\",\n      \"hotelImageURL\": \"https://www.hilton.com/en/hotels/WASARHIL-hilton-arlington/index.html\",\n      \"geoCoordinates\": {\n        \"latitude\": 38.8538,\n        \"longitude\": -77.0512\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic hotel with a lobby lounge, fitness center, and complimentary shuttle service.\"\n    },\n    {\n      \"hotelName\": \"The Westin Arlington Gateway\",\n      \"hotelAddress\": \"2200 Wilson Blvd, Arlington, VA 22201\",\n      \"price\": \"$130-$200\",\n      \"hotelImageURL\": \"https://www.marriott.com/content/dam/marriott/marriott-assets/marriott/hotels/us/waswg/waswg-exterior-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 38.8829,\n        \"longitude\": -77.0862\n      },\n      \"rating\": 4.2,\n      \"description\": \"A stylish hotel with a restaurant, bar, and fitness center.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"activities\": [\n        {\n          \"placeName\": \"Arlington National Cemetery\",\n          \"placeDetails\": \"Pay your respects at this historic cemetery, which is the final resting place of many American heroes.\",\n          \"placeImageURL\": \"https://www.nps.gov/arcl/learn/historyculture/images/arlington_national_cemetery_1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8723,\n            \"longitude\": -77.0641\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"time\": \"9:00 AM - 12:00 PM\"\n        },\n        {\n          \"placeName\": \"Iwo Jima Memorial\",\n          \"placeDetails\": \"This iconic monument commemorates the Battle of Iwo Jima.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Iwo_Jima_Memorial%2C_Arlington%2C_Virginia%2C_USA.jpg/1280px-Iwo_Jima_Memorial%2C_Arlington%2C_Virginia%2C_USA.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8719,\n            \"longitude\": -77.0657\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"time\": \"12:00 PM - 1:00 PM\"\n        },\n        {\n          \"placeName\": \"The Pentagon\",\n          \"placeDetails\": \"Take a tour of the Pentagon, the headquarters of the U.S. Department of Defense.\",\n          \"placeImageURL\": \"https://www.defense.gov/Portals/1/Images/Photo/2019/09/19/190919-F-ZZ999-0001.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8627,\n            \"longitude\": -77.0536\n          },\n          \"ticketPricing\": \"Free (reservations required)\",\n          \"rating\": 4.2,\n          \"time\": \"1:00 PM - 3:00 PM\"\n        },\n        {\n          \"placeName\": \"The Air Force Memorial\",\n          \"placeDetails\": \"Admire this modern monument dedicated to the United States Air Force.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Air_Force_Memorial%2C_Arlington%2C_Virginia%2C_USA.jpg/1280px-Air_Force_Memorial%2C_Arlington%2C_Virginia%2C_USA.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8774,\n            \"longitude\": -77.0681\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"time\": \"3:00 PM - 4:00 PM\"\n        },\n        {\n          \"placeName\": \"Clarendon\",\n          \"placeDetails\": \"Enjoy dinner and drinks in this lively neighborhood with many restaurants and bars.\",\n          \"placeImageURL\": \"https://www.visittheusa.com/sites/default/files/styles/hero/public/media/image/clarendon.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8853,\n            \"longitude\": -77.0861\n          },\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.4,\n          \"time\": \"4:00 PM - 7:00 PM\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"activities\": [\n        {\n          \"placeName\": \"National Museum of the United States Army\",\n          \"placeDetails\": \"Learn about the history of the United States Army.\",\n          \"placeImageURL\": \"https://www.army.mil/e2/downloads/2020/06/22/1312306/NMSUA_Web-Banner-4_Final-061820.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8763,\n            \"longitude\": -77.0674\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"time\": \"9:00 AM - 12:00 PM\"\n        },\n        {\n          \"placeName\": \"Crystal City\",\n          \"placeDetails\": \"Explore this modern business district with shops, restaurants, and parks.\",\n          \"placeImageURL\": \"https://www.arlingtonva.us/home/showpublishedimage/11864\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8501,\n            \"longitude\": -77.0582\n          },\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.3,\n          \"time\": \"12:00 PM - 2:00 PM\"\n        },\n        {\n          \"placeName\": \"Rosslyn\",\n          \"placeDetails\": \"Admire the views from the top of the Rosslyn Metro Station and visit the shops and restaurants.\",\n          \"placeImageURL\": \"https://www.arlingtonva.us/home/showpublishedimage/4602\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8818,\n            \"longitude\": -77.0745\n          },\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.1,\n          \"time\": \"2:00 PM - 4:00 PM\"\n        },\n        {\n          \"placeName\": \"Shirlington\",\n          \"placeDetails\": \"Enjoy dinner and drinks in this historic neighborhood with a vibrant nightlife scene.\",\n          \"placeImageURL\": \"https://www.arlingtonva.us/home/showpublishedimage/11858\",\n          \"geoCoordinates\": {\n            \"latitude\": 38.8587,\n            \"longitude\": -77.0717\n          },\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.5,\n          \"time\": \"4:00 PM - 7:00 PM\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\nThis JSON file contains two main sections: `hotels` and `itinerary`.\n\n**Hotels:**\n\n* Each hotel is represented by an object containing its `hotelName`, `hotelAddress`, `price`, `hotelImageURL`, `geoCoordinates`, `rating`, and `description`. \n* These hotels are chosen based on their proximity to key Arlington attractions and their budget-friendly pricing. \n* The `geoCoordinates` provide latitude and longitude for location mapping.\n\n**Itinerary:**\n\n* The itinerary is structured for two days with each day containing a list of `activities`.\n* Each activity includes information like `placeName`, `placeDetails`, `placeImageURL`, `geoCoordinates`, `ticketPricing`, `rating`, and `time`.\n* The itinerary is designed to be cost-effective, focusing on free or low-cost attractions and activities.\n\n**Best Time to Visit:**\n\n* This itinerary doesn't specify the best time to visit since it's a general outline.\n* Generally, the best time to visit Arlington is during the spring or fall when the weather is pleasant and crowds are smaller.\n* However, specific attractions might have peak seasons, and you should check their websites for information.\n\n**Note:**\n\n* The provided hotel images and price ranges are indicative and might vary depending on the time of the year and availability. \n* This itinerary is a suggestion, and you can modify it based on your interests and time constraints.\n"},
        ],
      },
    ],
  });